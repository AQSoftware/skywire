window.AQCore=function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=9)}([function(e,r,t){"use strict";r.byteLength=function(e){var r=u(e),t=r[0],n=r[1];return 3*(t+n)/4-n},r.toByteArray=function(e){for(var r,t=u(e),n=t[0],i=t[1],s=new o(function(e,r,t){return 3*(r+t)/4-t}(0,n,i)),l=0,c=i>0?n-4:n,f=0;f<c;f+=4)r=a[e.charCodeAt(f)]<<18|a[e.charCodeAt(f+1)]<<12|a[e.charCodeAt(f+2)]<<6|a[e.charCodeAt(f+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;2===i&&(r=a[e.charCodeAt(f)]<<2|a[e.charCodeAt(f+1)]>>4,s[l++]=255&r);1===i&&(r=a[e.charCodeAt(f)]<<10|a[e.charCodeAt(f+1)]<<4|a[e.charCodeAt(f+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r);return s},r.fromByteArray=function(e){for(var r,t=e.length,a=t%3,o=[],i=0,s=t-a;i<s;i+=16383)o.push(c(e,i,i+16383>s?s:i+16383));1===a?(r=e[t-1],o.push(n[r>>2]+n[r<<4&63]+"==")):2===a&&(r=(e[t-2]<<8)+e[t-1],o.push(n[r>>10]+n[r>>4&63]+n[r<<2&63]+"="));return o.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=i.length;s<l;++s)n[s]=i[s],a[i.charCodeAt(s)]=s;function u(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return-1===t&&(t=r),[t,t===r?0:4-t%4]}function c(e,r,t){for(var a,o,i=[],s=r;s<t;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(o=a)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultCallbackHelper=r.CallbackHelper=void 0;var n,a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),i=t(0),s=(n=i)&&n.__esModule?n:{default:n},l=t(4);var u=r.CallbackHelper=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiCallbacks={},this.coreCallbacks={},this.errorCallbacks={}}return o(e,[{key:"postToWebKit",value:function(e,r){window.webkit.messageHandlers[e].postMessage(r)}},{key:"postToAndroidAqApp",value:function(e,r){window.aqJsPostMessage(e,r)}},{key:"postToSimulator",value:function(e,r){window.parent&&window.parent.postMessage({messageType:"aqMiniAppSdk",message:e,param:r},"*")}},{key:"setUiCallback",value:function(e,r,t){var n=this.uiCallbacks[e];void 0===n&&(n={}),n[r]=t,this.uiCallbacks[e]=n}},{key:"setCoreCallback",value:function(e,r){this.coreCallbacks[e]=r}},{key:"setErrorCallback",value:function(e,r){this.errorCallbacks[e]=r}},{key:"processMessage",value:function(e,r,t){var n=a({},t);r&&(n.key=r),void 0!==window.webkit?this.postToWebKit(e,n):void 0!==window.aqJsPostMessage?this.postToAndroidAqApp(e,n):void 0!==window.parent&&this.postToSimulator(e,n)}}]),e}();function c(e,r){var t=e;if(r){var n=s.default.toByteArray(e),a=new l.TextDecoder("utf-8").decode(n);t=JSON.parse(a)}return t}window.funTypeCallback=function(e,r,t,n){if(null!=f.uiCallbacks[e]){var a=f.uiCallbacks[e];if(null!=a[r])(0,a[r])(r,c(t,n))}else if(null!=f.coreCallbacks[e]){(0,f.coreCallbacks[e])(c(t,n))}},window.errorCallback=function(e,r,t){null!=f.errorCallbacks[e]&&(0,f.errorCallbacks[e])(c(r,t))},window.addEventListener("message",function(e){e.origin||e.originalEvent.origin;var r=e.data;if("aqMiniAppSdk"!==r.messageType)return;window.aqAppSimulatorConfirmed=!0;var t=r.message,n=r.key,a=r.value,o=r.shouldDecode;t&&window.funTypeCallback(t,n,a,o)},!1);var f=new u;r.defaultCallbackHelper=f},function(e,r,t){"use strict";var n,a,o=t(7),i=t(6),s=0,l=0;e.exports=function(e,r,t){var u=r&&t||0,c=r||[],f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:a;if(null==f||null==d){var h=o();null==f&&(f=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=a=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:l+1,_=p-s+(v-l)/1e4;if(_<0&&void 0===e.clockseq&&(d=d+1&16383),(_<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,l=v,a=d;var y=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;c[u++]=y>>>24&255,c[u++]=y>>>16&255,c[u++]=y>>>8&255,c[u++]=255&y;var A=p/4294967296*1e4&268435455;c[u++]=A>>>8&255,c[u++]=255&A,c[u++]=A>>>24&15|16,c[u++]=A>>>16&255,c[u++]=d>>>8|128,c[u++]=255&d;for(var b=0;b<6;++b)c[u+b]=f[b];return r||i(c)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),a=t(1);var o=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbackHelper=a.defaultCallbackHelper}return n(e,[{key:"_saveCallbackAndProcessMessage",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r&&this._callbackHelper.setCoreCallback(e,r),t&&this._callbackHelper.setErrorCallback(e,t),this._callbackHelper.processMessage(e,null,n)}},{key:"createUserBet",value:function(){var e=this;return new Promise(function(r,t){e._saveCallbackAndProcessMessage("createUserBet",r,t)})}},{key:"claimUserBet",value:function(e){var r=this;return new Promise(function(t,n){r._saveCallbackAndProcessMessage("claimUserBet",t,n,{winnerUserId:e})})}}]),e}();r.default=o=new o},function(e,r,t){"use strict";function n(e,r,t){return r<=e&&e<=t}function a(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}t.r(r),t.d(r,"TextEncoder",function(){return f}),t.d(r,"TextDecoder",function(){return c});var o=-1;function i(e){this.tokens=[].slice.call(e)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():o},prepend:function(e){if(Array.isArray(e))for(var r=e;r.length;)this.tokens.unshift(r.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var r=e;r.length;)this.tokens.push(r.shift());else this.tokens.push(e)}};var s=-1;function l(e,r){if(e)throw TypeError("Decoder error");return r||65533}var u="utf-8";function c(e,r){if(!(this instanceof c))return new c(e,r);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");r=a(r),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(r.fatal),this._ignoreBOM=Boolean(r.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function f(e,r){if(!(this instanceof f))return new f(e,r);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");r=a(r),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(r.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}c.prototype={decode:function(e,r){var t;t="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),r=a(r),this._streaming||(this._decoder=new function(e){var r=e.fatal,t=0,a=0,i=0,u=128,c=191;this.handler=function(e,f){if(f===o&&0!==i)return i=0,l(r);if(f===o)return s;if(0===i){if(n(f,0,127))return f;if(n(f,194,223))i=1,t=f-192;else if(n(f,224,239))224===f&&(u=160),237===f&&(c=159),i=2,t=f-224;else{if(!n(f,240,244))return l(r);240===f&&(u=144),244===f&&(c=143),i=3,t=f-240}return t<<=6*i,null}if(!n(f,u,c))return t=i=a=0,u=128,c=191,e.prepend(f),l(r);if(u=128,c=191,t+=f-128<<6*(i-(a+=1)),a!==i)return null;var d=t;return t=i=a=0,d}}({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(r.stream);for(var u,c=new i(t),f=[];!c.endOfStream()&&(u=this._decoder.handler(c,c.read()))!==s;)null!==u&&(Array.isArray(u)?f.push.apply(f,u):f.push(u));if(!this._streaming){do{if((u=this._decoder.handler(c,c.read()))===s)break;null!==u&&(Array.isArray(u)?f.push.apply(f,u):f.push(u))}while(!c.endOfStream());this._decoder=null}return f.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===f[0]?(this._BOMseen=!0,f.shift()):this._BOMseen=!0)),function(e){for(var r="",t=0;t<e.length;++t){var n=e[t];n<=65535?r+=String.fromCharCode(n):(n-=65536,r+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return r}(f)}},f.prototype={encode:function(e,r){e=e?String(e):"",r=a(r),this._streaming||(this._encoder=new function(e){e.fatal;this.handler=function(e,r){if(r===o)return s;if(n(r,0,127))return r;var t,a;n(r,128,2047)?(t=1,a=192):n(r,2048,65535)?(t=2,a=224):n(r,65536,1114111)&&(t=3,a=240);for(var i=[(r>>6*t)+a];t>0;){var l=r>>6*(t-1);i.push(128|63&l),t-=1}return i}}(this._options)),this._streaming=Boolean(r.stream);for(var t,l=[],u=new i(function(e){for(var r=String(e),t=r.length,n=0,a=[];n<t;){var o=r.charCodeAt(n);if(o<55296||o>57343)a.push(o);else if(56320<=o&&o<=57343)a.push(65533);else if(55296<=o&&o<=56319)if(n===t-1)a.push(65533);else{var i=e.charCodeAt(n+1);if(56320<=i&&i<=57343){var s=1023&o,l=1023&i;a.push(65536+(s<<10)+l),n+=1}else a.push(65533)}n+=1}return a}(e));!u.endOfStream()&&(t=this._encoder.handler(u,u.read()))!==s;)Array.isArray(t)?l.push.apply(l,t):l.push(t);if(!this._streaming){for(;(t=this._encoder.handler(u,u.read()))!==s;)Array.isArray(t)?l.push.apply(l,t):l.push(t);this._encoder=null}return new Uint8Array(l)}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultLifeCycle=r.WinCriteriaEnum=r.WIN_CRITERIA_DRAW=r.WIN_CRITERIA_LOSE=r.WIN_CRITERIA_WIN=r.Events=r.Messages=void 0;var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},a=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),o=l(t(0)),i=l(t(2)),s=t(1);function l(e){return e&&e.__esModule?e:{default:e}}var u=r.Messages={MESSAGE_SHOW_TITLE_INPUT:"showTitleInput",MESSAGE_SHOW_WEB_IMAGE_SELECTOR:"showWebImageSelector",MESSAGE_SHOW_GALLERY_IMAGE_SELECTOR:"showGalleryImageSelector",MESSAGE_SHOW_FRIENDS_SELECTOR:"showFriendsSelector",MESSAGE_SET_APP_DATA:"setAppData",MESSAGE_INFORM_READY:"informReady",MESSAGE_SHOW_PREVIEW_WITH_DATA:"showPreviewWithData",MESSAGE_REQUEST_PREVIEW:"requestPreview",MESSAGE_ON_DATA:"onData",MESSAGE_GET_FRIENDS:"getFriends",MESSAGE_GET_BM_BALANCE:"getBmBalance",MESSAGE_PUBLISH:"publish",MESSAGE_PUBLISH_STATUS:"publishStatus",MESSAGE_JOIN:"join",MESSAGE_SET_RESULT:"setResult",MESSAGE_START:"start",MESSAGE_END:"end",MESSAGE_RESET:"reset"},c=(r.Events={ON_DATA:"onData",ON_RESET:"reset",ON_APP_STATE_CHANGE:"onAppStateChange"},r.WIN_CRITERIA_WIN=0),f=r.WIN_CRITERIA_LOSE=1,d=r.WIN_CRITERIA_DRAW=2,h=(r.WinCriteriaEnum={Win:c,Lose:f,Draw:d},function(){function e(r){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbackHelper=r}return a(e,[{key:"_saveCallbackAndProcessMessage",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r&&this._callbackHelper.setCoreCallback(e,r),this._callbackHelper.processMessage(e,null,t)}},{key:"setOnDataCallback",value:function(e){this._callbackHelper.setCoreCallback(u.MESSAGE_ON_DATA,e)}},{key:"setOnResetCallback",value:function(e){this._callbackHelper.setCoreCallback(u.MESSAGE_RESET,e)}},{key:"setCallback",value:function(e,r){this._callbackHelper.setCoreCallback(e,r)}},{key:"setRequestPreviewCallback",value:function(e){this._callbackHelper.setCoreCallback(u.MESSAGE_REQUEST_PREVIEW,e)}},{key:"setPublishCallback",value:function(e){this._callbackHelper.setCoreCallback(u.MESSAGE_PUBLISH,e)}},{key:"sendMessage",value:function(e,r){this._saveCallbackAndProcessMessage(e,null,r)}},{key:"showPreviewWithData",value:function(e,r,t){this._saveCallbackAndProcessMessage(u.MESSAGE_SHOW_PREVIEW_WITH_DATA,null,n({title:e,coverImageUrl:r},t))}},{key:"setAppData",value:function(e){this._saveCallbackAndProcessMessage(u.MESSAGE_SET_APP_DATA,null,{appData:e})}},{key:"informReady",value:function(){this._saveCallbackAndProcessMessage(u.MESSAGE_INFORM_READY,null,null)}},{key:"generateId",value:function(){var e=new Array(16);return(0,i.default)(null,e,0),o.default.fromByteArray(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},{key:"join",value:function(e,r,t,n){this._saveCallbackAndProcessMessage(u.MESSAGE_JOIN,null,{id:e,joinImageUrl:r,winCriteria:t,notificationItem:n})}},{key:"setResult",value:function(e){var r=e.winCriteriaPassed,t=function(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(e,["winCriteriaPassed"]),a=n({},t);void 0!==r&&void 0===e.winCriteria&&(a.winCriteria="boolean"==typeof r?r?c:f:"number"==typeof r?r:r?c:f),this._saveCallbackAndProcessMessage(u.MESSAGE_SET_RESULT,null,e)}},{key:"start",value:function(){this._saveCallbackAndProcessMessage(u.MESSAGE_START,null,null)}},{key:"end",value:function(){this._saveCallbackAndProcessMessage(u.MESSAGE_END,null,null)}},{key:"publishSucceded",value:function(){this._saveCallbackAndProcessMessage(u.MESSAGE_PUBLISH_STATUS,null,{status:!0})}},{key:"publishFailed",value:function(){this._saveCallbackAndProcessMessage(u.MESSAGE_PUBLISH_STATUS,null,{status:!1})}}]),e}()),p=new h(s.defaultCallbackHelper);r.defaultLifeCycle=p,r.default=h=p},function(e,r,t){"use strict";for(var n=[],a=0;a<256;++a)n[a]=(a+256).toString(16).substr(1);e.exports=function(e,r){var t=r||0,a=n;return a[e[t++]]+a[e[t++]]+a[e[t++]]+a[e[t++]]+"-"+a[e[t++]]+a[e[t++]]+"-"+a[e[t++]]+a[e[t++]]+"-"+a[e[t++]]+a[e[t++]]+"-"+a[e[t++]]+a[e[t++]]+a[e[t++]]+a[e[t++]]+a[e[t++]]+a[e[t++]]}},function(e,r,t){"use strict";var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var a=new Uint8Array(16);e.exports=function(){return n(a),a}}else{var o=new Array(16);e.exports=function(){for(var e,r=0;r<16;r++)0==(3&r)&&(e=4294967296*Math.random()),o[r]=e>>>((3&r)<<3)&255;return o}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),a=i(t(0)),o=i(t(2));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"generateId",value:function(){var e=new Array(16);return(0,o.default)(null,e,0),a.default.fromByteArray(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},{key:"relativeToAbsolutePath",value:function(e){for(var r,t,n="",a=window.location.pathname.replace(/[^\/]*$/,e.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),o=0;(t=a.indexOf("/../",o))>-1;o=t+r)r=/^\/(?:\.\.\/)*/.exec(a.slice(t))[0].length,n=(n+a.substring(o,t)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(r-1)/3+"}$"),"/");return window.location.origin+n+a.substr(o)}}]),e}();r.default=s=new s},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(8);Object.defineProperty(r,"Utils",{enumerable:!0,get:function(){return i(n).default}});var a=t(5);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}})}),Object.defineProperty(r,"LifeCycle",{enumerable:!0,get:function(){return i(a).default}});var o=t(3);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"GameExtensions",{enumerable:!0,get:function(){return i(o).default}})}]);